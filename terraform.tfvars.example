# GCP Project Configuration
project_id = "your-gcp-project-id"
region     = "asia-northeast1"
zone       = "asia-northeast1-a"

# Resource Naming
prefix = "dify"

# Network Configuration
subnet_cidr = "10.0.1.0/24"

# VM Configuration
machine_type  = "e2-standard-8"
disk_size_gb  = 50

# SSH Configuration
ssh_source_ranges  = ["35.235.240.0/20"]

# SSL Configuration
# Option 1: Use a domain name for Google-managed SSL certificate
domain_name = "dify.example.com"

# Option 2: Use self-signed certificate (if domain_name is empty)
# ssl_certificate = file("path/to/certificate.pem")
# ssl_private_key = file("path/to/private-key.pem")

# Docker Configuration
docker_compose_version = "v2.24.5"

# Dify Configuration
dify_version = "1.11.4"

# Cloud SQL Configuration
cloudsql_tier              = "db-custom-4-16384" # 4 vCPU, 16GB RAM
cloudsql_disk_size         = 50
cloudsql_database_version  = "POSTGRES_15"
cloudsql_backup_enabled    = true
cloudsql_backup_start_time = "03:00"

# Database Configuration
db_name     = "dify"
db_user     = "dify"
db_password = "" # Leave empty to generate random password

# =============================================================================
# pgvector Configuration
# =============================================================================

# pgvector_database_version = "POSTGRES_16"  # pgvector requires PostgreSQL 11+

# Instance tier (4 vCPU, 16GB RAM recommended for vector operations)
# pgvector_tier = "db-custom-4-16384"

# Disk size in GB
# pgvector_disk_size = 100

# Availability type: ZONAL (single-zone) or REGIONAL (high availability)
# pgvector_availability_type = "ZONAL"

# Database name and credentials
# pgvector_db_name = "dify_vector"
# pgvector_db_user = "dify_vector"
# pgvector_db_password = ""  # Leave empty to auto-generate

# Backup configuration
# pgvector_backup_enabled = true
# pgvector_backup_start_time = "04:00"  # UTC

# =============================================================================
# Google Cloud Storage Configuration
# =============================================================================

# GCS Bucket name (leave empty to auto-generate based on project_id and prefix)
# gcs_bucket_name = ""

# Bucket location (regional or multi-regional)
# gcs_location = "ASIA-NORTHEAST1"

# Storage class: STANDARD, NEARLINE, COLDLINE, ARCHIVE
# gcs_storage_class = "STANDARD"

# Enable versioning for bucket objects
# gcs_versioning_enabled = false

# Allow bucket deletion even if it contains objects (NOT recommended for production)
# TODO: Set to false after testing
gcs_force_destroy = true

# CORS configuration
# gcs_cors_enabled = true
# gcs_cors_origins = ["*"]
# gcs_cors_methods = ["GET", "HEAD", "PUT", "POST", "DELETE"]
# gcs_cors_response_headers = ["*"]
# gcs_cors_max_age_seconds = 3600

# Lifecycle rules example
# gcs_lifecycle_rules = [
#   {
#     action = {
#       type = "SetStorageClass"
#       storage_class = "NEARLINE"
#     }
#     condition = {
#       age = 30
#       matches_storage_class = ["STANDARD"]
#     }
#   },
#   {
#     action = {
#       type = "Delete"
#     }
#     condition = {
#       age = 365
#     }
#   }
# ]
